<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Notifications - Medicore</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <link href="../../assets/css/style.css" rel="stylesheet">

  <style>
  :root{
    --bg:#f5f8fb;
    --card:#fff;
    --muted:#6b7c85;
    --accent:#0b6fbf;
    --trash:#e53935;
    --primary:#0b6fbf;
  }

  body{
    background:var(--bg);
    font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    color:#0b2b3a;
    -webkit-font-smoothing:antialiased;
  }

  .navbar-brand{font-weight:700;color:var(--primary) !important;}

  .logo {
    text-decoration: none !important;
  }

  .logo:hover {
    text-decoration: none !important;
  }

  .logo:focus {
    text-decoration: none !important;
  }

  .logo span {
    text-decoration: none !important;
  }

  .logo:hover span {
    text-decoration: none !important;
  }

  /* Notification Page Styles */
  .notif-header{
    display:flex; 
    align-items:center; 
    justify-content:space-between; 
    gap:12px; 
    margin-bottom:20px;
    flex-wrap:wrap;
  }
  .notif-title{font-weight:800; font-size:24px; color:#0b2b3a; margin:0;}
  .notif-subtitle{color:var(--muted); font-size:14px; margin-top:4px;}

  .notif-card{
    background:var(--card); 
    border-radius:10px; 
    padding:8px; 
    box-shadow:0 6px 18px rgba(11,111,191,0.03);
    border:1px solid #e6eef8;
  }
  
  .notif{
    display:flex; 
    gap:12px; 
    align-items:flex-start; 
    padding:16px; 
    border-bottom:1px solid #eef3f6;
    transition: background 0.2s ease;
  }
  .notif:hover{
    background:#f8fafb;
  }
  .notif:last-child{border-bottom:0;}
  
  .icon-placeholder{
    width:46px; 
    height:46px; 
    border-radius:10px; 
    background:#f1f6f9; 
    display:flex; 
    align-items:center; 
    justify-content:center; 
    color:#7a92a0; 
    font-weight:800;
    flex-shrink:0;
  }
  
  .notif-body{flex:1; min-width:0;}
  
  .notif-item-title{
    font-weight:800; 
    color:#0b2b3a; 
    font-size:15px; 
    margin-bottom:6px;
  }
  
  .notif-sub{
    color:var(--muted); 
    font-size:14px; 
    margin-bottom:8px;
    line-height:1.5;
  }
  
  .notif-footer{
    display:flex; 
    align-items:center; 
    gap:8px; 
    font-size:13px; 
    color:#98a4ad;
    margin-top:8px;
  }
  
  .notif-time{
    color:#98a4ad; 
    font-size:12px;
  }
  
  .trash{
    color:var(--trash); 
    cursor:pointer; 
    font-size:18px;
    flex-shrink:0;
    padding:4px;
    transition: all 0.2s ease;
  }
  .trash:hover{
    color:#d32f2f;
    transform:scale(1.15);
  }

  .more-text{
    display:none; 
    color:var(--muted); 
    font-size:13px; 
    margin-top:6px;
    line-height:1.5;
  }

  .read-more{
    color:var(--accent);
    text-decoration:none;
    font-weight:600;
    cursor:pointer;
  }
  .read-more:hover{
    text-decoration:underline;
  }

  .empty-state{
    padding:48px 12px; 
    color:var(--muted); 
    text-align:center; 
    font-weight:600;
  }

  /* Fix header dropdowns z-index */
  .header-nav .dropdown-menu {
    z-index: 9999 !important;
  }

  .header {
    z-index: 1000 !important;
  }

  .dropdown-menu {
    z-index: 1050 !important;
  }

  .notifications {
    min-width: 320px !important;
  }

  .profile {
    min-width: 250px !important;
  }

  @media (max-width:575.98px){
    .icon-placeholder{width:40px;height:40px;}
    .notif-item-title{font-size:14px;}
    .notif{padding:12px;}
  }
</style>
</head>

<body>

  <!-- HEADER / NAVBAR -->
  <header id="header" class="header fixed-top d-flex align-items-center">
    <div class="d-flex align-items-center justify-content-between">
      <a href="patientBookAppointment.html" class="logo d-flex align-items-center">
        <img src="../../assets/img/logo.png" alt="">
        <span class="d-none d-lg-block">Medicore</span>
      </a>
      <i class="bi bi-list toggle-sidebar-btn"></i>
    </div>

    <nav class="header-nav ms-auto">
      <ul class="d-flex align-items-center">
        <li class="nav-item d-block d-lg-none">
          <a class="nav-link nav-icon search-bar-toggle " href="#">
            <i class="bi bi-search"></i>
          </a>
        </li>

        <li class="nav-item dropdown">
          <a class="nav-link nav-icon" href="#" data-bs-toggle="dropdown">
            <i class="bi bi-bell"></i>
            <span class="badge bg-primary badge-number">3</span>
          </a>
          <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow notifications">
            <li class="dropdown-header">
              You have 3 new notifications
              <a href="patient-notification-page.html"><span class="badge rounded-pill bg-primary p-2 ms-2">View all</span></a>
            </li>
            <li><hr class="dropdown-divider"></li>
            <li class="notification-item">
              <i class="bi bi-info-circle text-primary"></i>
              <div>
                <h4>Profile Updated</h4>
                <p>Dr. Mehta updated his contact details.</p>
                <p>1 hr. ago</p>
              </div>
            </li>
            <li><hr class="dropdown-divider"></li>
            <li class="notification-item">
              <i class="bi bi-x-circle text-danger"></i>
              <div>
                <h4>Appointment Cancelled</h4>
                <p>Priya Sharma cancelled her appointment with Dr. Alice.</p>
                <p>25 min. ago</p>
              </div>
            </li>
            <li><hr class="dropdown-divider"></li>
            <li class="notification-item">
              <i class="bi bi-check-circle text-success"></i>
              <div>
                <div>
                  <h4>Appointment Booked</h4>
                  <p>Ravi Kumar booked an appointment with Dr. Mehta.</p>
                  <p>15 min. ago</p>
                </div>
              </div>
            </li>
          </ul>
        </li>

        <li class="nav-item dropdown pe-3">
          <a class="nav-link nav-profile d-flex align-items-center pe-0" href="#" data-bs-toggle="dropdown">
            <span class="d-none d-md-block dropdown-toggle ps-2">Dhanush</span>
          </a>
          <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow profile">
            <li class="dropdown-header">
              <h6>Dhanush</h6>
              <span>esdhanush@gmail.com</span>
            </li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item d-flex align-items-center" href="admin-my-profile.html"><i class="bi bi-person"></i><span>My Profile</span></a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item d-flex align-items-center" href="admin-my-profile.html"><i class="bi bi-gear"></i><span>Account Settings</span></a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item d-flex align-items-center" href="../login/patientLogin.html"><i class="bi bi-box-arrow-right"></i><span>Sign Out</span></a></li>
          </ul>
        </li>

      </ul>
    </nav>
  </header>

  <!-- SIDEBAR -->
  <aside id="sidebar" class="sidebar">
    <ul class="sidebar-nav" id="sidebar-nav">
      <li class="nav-heading">Pages</li>
      <li class="nav-item">
        <a class="nav-link collapsed" href="patientBookAppointment.html">
          <i class="ri ri-stethoscope-fill"></i>
          <span>Book Appointment</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link collapsed" href="patient-myappointments.html">
          <i class="ri ri-health-book-line"></i>
          <span>My Appointments</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link collapsed" href="patientProfile.html">
          <i class="ri ri-profile-line"></i>
          <span>My Profile</span>
        </a>
      </li>
    </ul>
  </aside>

  <!-- MAIN CONTENT -->
  <main id="main" class="main">
    <div class="pagetitle">
      <div class="d-flex justify-content-between align-items-center">
        <div>
          <h1>Notifications</h1>
          <nav>
            <ol class="breadcrumb">
              <li class="breadcrumb-item"><a href="index.html">Home</a></li>
              <li class="breadcrumb-item active">Notifications</li>
            </ol>
          </nav>
        </div>
        <div>
          <button id="clearAllBtn" type="button" class="btn btn-sm btn-outline-danger">
            <i class="bi bi-trash me-1"></i>Clear All
          </button>
        </div>
      </div>
    </div>

    <section class="section">
      <div class="row">
        <div class="col-lg-12">

          <!-- Notifications Card -->
          <div class="notif-card" id="notifCard" aria-live="polite">
            
            <!-- 1) patient profile created -->
            <div class="notif" data-id="profile-created">
              <i class="bi bi-person-check-fill text-success notif-icon"></i>
              <div class="notif-body">
                <div class="d-flex justify-content-between align-items-start">
                  <div class="notif-item-title">Patient profile created</div>
                  <div class="trash" title="Delete"><i class="fa fa-times"></i></div>
                </div>
                <div class="notif-sub">Your patient profile has been successfully created. <a href="#" class="read-more">read more..</a></div>
                <div class="more-text">Profile ID: PC1638429000000. Save this for future use.</div>
                <div class="notif-footer">
                  <i class="bi bi-clock text-muted"></i>
                  <div class="notif-time">04 Dec 2025 · 09:00 AM</div>
                </div>
              </div>
            </div>

            <!-- 2) welcome patient_name -->
            <div class="notif" data-id="welcome">
              <i class="bi bi-info-circle text-primary notif-icon"></i>
              <div class="notif-body">
                <div class="d-flex justify-content-between align-items-start">
                  <div class="notif-item-title">Welcome Dhanush</div>
                  <div class="trash" title="Delete"><i class="fa fa-times"></i></div>
                </div>
                <div class="notif-sub">Welcome to Medicore, Dhanush. We're glad to have you. <a href="#" class="read-more">read more..</a></div>
                <div class="more-text">Explore features: appointments, teleconsultations and health records.</div>
                <div class="notif-footer">
                  <i class="bi bi-clock text-muted"></i>
                  <div class="notif-time">04 Dec 2025 · 09:00 AM</div>
                </div>
              </div>
            </div>

            <!-- 3) Doctor appointment booked -->
            <div class="notif" data-id="appointment-booked">
              <i class="bi bi-check-circle text-success notif-icon"></i>
              <div class="notif-body">
                <div class="d-flex justify-content-between align-items-start">
                  <div class="notif-item-title">Doctor appointment booked</div>
                  <div class="trash" title="Delete"><i class="fa fa-times"></i></div>
                </div>
                <div class="notif-sub">You have a booking with Dr. Sudhir Naik on 05 Dec 2025 at 10:30 AM. <a href="#" class="read-more">read more..</a></div>
                <div class="more-text">Clinic: Apollo Health City, Jubilee Hills. Bring prior reports and ID.</div>
                <div class="notif-footer">
                  <i class="bi bi-clock text-muted"></i>
                  <div class="notif-time">04 Dec 2025 · 09:00 AM</div>
                </div>
              </div>
            </div>

            <!-- 4) your appointment cancelled -->
            <div class="notif" data-id="appointment-cancelled">
              <i class="bi bi-x-circle text-danger notif-icon"></i>
              <div class="notif-body">
                <div class="d-flex justify-content-between align-items-start">
                  <div class="notif-item-title">Your appointment cancelled</div>
                  <div class="trash" title="Delete"><i class="fa fa-times"></i></div>
                </div>
                <div class="notif-sub">The clinic cancelled your 12 Nov 2025 appointment with Dr. Sudhir Naik. <a href="#" class="read-more">read more..</a></div>
                <div class="more-text">You can reschedule via Book Appointments or call support.</div>
                <div class="notif-footer">
                  <i class="bi bi-clock text-muted"></i>
                  <div class="notif-time">04 Dec 2025 · 09:00 AM</div>
                </div>
              </div>
            </div>

            <!-- 5) your profile has been updated -->
            <div class="notif" data-id="profile-updated">
              <i class="bi bi-info-circle text-primary notif-icon"></i>
              <div class="notif-body">
                <div class="d-flex justify-content-between align-items-start">
                  <div class="notif-item-title">Your profile has been updated</div>
                  <div class="trash" title="Delete"><i class="fa fa-times"></i></div>
                </div>
                <div class="notif-sub">Your contact details were updated successfully. <a href="#" class="read-more">read more..</a></div>
                <div class="more-text">If changes are incorrect, edit from My Profile immediately.</div>
                <div class="notif-footer">
                  <i class="bi bi-clock text-muted"></i>
                  <div class="notif-time">04 Dec 2025 · 09:00 AM</div>
                </div>
              </div>
            </div>

            <!-- 6) patient appointment reminder -->
            <div class="notif" data-id="appointment-reminder">
              <i class="bi bi-calendar-check text-warning notif-icon"></i>
              <div class="notif-body">
                <div class="d-flex justify-content-between align-items-start">
                  <div class="notif-item-title">Doctor appointment reminder</div>
                  <div class="trash" title="Delete"><i class="fa fa-times"></i></div>
                </div>
                <div class="notif-sub">Reminder: Dr. Sudhir Naik appointment on 05 Dec 2025 at 10:30 AM. <a href="#" class="read-more">read more..</a></div>
                <div class="more-text">Arrive 10 minutes early and follow pre-appointment instructions.</div>
                <div class="notif-footer">
                  <i class="bi bi-clock text-muted"></i>
                  <div class="notif-time">04 Dec 2025 · 09:00 AM</div>
                </div>
              </div>
            </div>

          </div>

        </div>
      </div>
    </section>

  </main>

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../../assets/js/sidebar.js"></script>
  <script src="../../assets/js/main.js"></script>

  <script>
    $(function(){
      
      // Initialize all Bootstrap dropdowns
      var dropdownElementList = [].slice.call(document.querySelectorAll('[data-bs-toggle="dropdown"]'));
      var dropdownList = dropdownElementList.map(function (dropdownToggleEl) {
        return new bootstrap.Dropdown(dropdownToggleEl);
      });

      // Prevent dropdown from closing when clicking inside
      $('.dropdown-menu').on('click', function(e){
        e.stopPropagation();
      });

      // Read more / read less toggle
      $(document).on('click', '.read-more', function(e){
        e.preventDefault();
        var $link = $(this);
        var $more = $link.closest('.notif-body').find('.more-text');

        $more.slideToggle(160, function(){
          var isVisible = $(this).is(':visible');
          $link.text(isVisible ? 'read less' : 'read more..');
        });
      });

      // Delete single notification
      // Delete single notification
      $(document).on('click', '.trash', function(e){
        e.stopPropagation();
        var $notif = $(this).closest('.notif');
        
        // Delete directly without confirmation
        $notif.slideUp(180, function(){
          $notif.remove();
          showEmptyIfNone();
        });
      });

      // Clear all notifications
      $('#clearAllBtn').on('click', function(){
        if(!confirm('Clear all notifications?')) return;
        
        var $card = $('#notifCard');
        var $items = $card.find('.notif');
        
        if($items.length === 0){
          showEmptyIfNone();
          return;
        }
        
        var removed = 0;
        $items.each(function(i, el){
          $(el).slideUp(180, function(){
            $(this).remove();
            removed++;
            if(removed === $items.length){
              showEmptyIfNone();
            }
          });
        });
      });

      // Show empty state when no notifications
      function showEmptyIfNone(){
        var $card = $('#notifCard');
        if($card.find('.notif').length === 0){
          $card.find('.empty-state').remove();
          var $empty = $('<div class="empty-state"><i class="bi bi-bell-slash" style="font-size:48px; color:#ccc; margin-bottom:16px;"></i><div style="font-size:18px; font-weight:700; margin-bottom:8px;">No Notifications</div><div style="color:#98a4ad;">You\'re all caught up!</div><div style="margin-top:16px;"><a href="patient-book-appointments.html" class="btn btn-primary btn-sm"><i class="bi bi-arrow-left me-1"></i>Back to Appointments</a></div></div>');
          $card.append($empty);
        }
      }

      // Accessibility: keyboard activation for trash and read-more
      $(document).on('keydown', '.trash, .read-more', function(e){
        if(e.key === 'Enter' || e.key === ' '){
          e.preventDefault();
          $(this).trigger('click');
        }
      });

    });
  </script>

</body>
</html>